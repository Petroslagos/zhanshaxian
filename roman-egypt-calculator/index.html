<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="theme-color" content="#F5E6C8">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  
  <!-- SEO Meta -->
  <meta name="description" content="千年穿越计算器 - 输入现代货币，看看你在古罗马埃及能买什么！基于哈佛学者Kyle Harper的莎草纸经济数据。">
  <meta name="keywords" content="罗马埃及,穿越,计算器,历史,经济,莎草纸,货币换算">
  
  <!-- Open Graph for WeChat sharing -->
  <meta property="og:title" content="千年穿越计算器 | Time Travel Calculator">
  <meta property="og:description" content="穿越到古罗马埃及，看看你的钱能买什么！">
  <meta property="og:type" content="website">
  <!-- [ASSET] Add og:image for WeChat preview -->
  <!-- <meta property="og:image" content="assets/images/share-preview.png"> -->
  
  <title>千年穿越计算器 | Millennium Time Travel Calculator</title>
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Noto+Serif+SC:wght@400;700&family=VT323&display=swap" rel="stylesheet">
  
  <!-- Styles -->
  <link rel="stylesheet" href="css/styles.css">
  
  <!-- [ASSET] Favicon - replace with custom icon -->
  <!-- <link rel="icon" href="assets/icons/favicon.ico"> -->
  <!-- <link rel="apple-touch-icon" href="assets/icons/apple-touch-icon.png"> -->
</head>
<body>
  <div class="app-container">
    
    <!-- ============================================
         HEADER
         ============================================ -->
    <header class="app-header">
      <div class="app-title">
        <!-- [ASSET] Replace with pixel art logo -->
        <div class="app-logo">🏛️</div>
        <span data-lang-zh="千年穿越计算器" data-lang-en="Time Travel Calculator">千年穿越计算器</span>
      </div>
      <div class="app-subtitle" data-lang-zh="古罗马埃及经济模拟器" data-lang-en="Roman Egypt Economic Simulator">
        古罗马埃及经济模拟器
      </div>
      <!-- Language Toggle -->
      <button id="lang-toggle" class="btn" style="position: absolute; right: 16px; top: 50%; transform: translateY(-50%); padding: 4px 8px; font-size: 12px;">
        EN
      </button>
    </header>

    <!-- ============================================
         SCREEN 1: WELCOME
         ============================================ -->
    <section id="screen-welcome" class="screen active">
      <div class="card-pixel text-center" style="margin-top: 20px;">
        <!-- [ASSET] Hero illustration placeholder -->
        <div style="font-size: 80px; margin: 20px 0;">
          🏺
        </div>
        
        <h2 data-lang-zh="欢迎穿越千年" data-lang-en="Welcome, Time Traveler">
          欢迎穿越千年
        </h2>
        
        <p class="mt-md" data-lang-zh="如果你带着今天的钱穿越到古罗马统治下的埃及..." data-lang-en="If you traveled back to Roman Egypt with today's money...">
          如果你带着今天的钱穿越到古罗马统治下的埃及...
        </p>
        
        <p class="mt-sm text-faded text-small" data-lang-zh="你能买几袋小麦？租几亩地？过怎样的生活？" data-lang-en="How much wheat could you buy? How much land could you rent? What lifestyle would you have?">
          你能买几袋小麦？租几亩地？过怎样的生活？
        </p>
        
        <button class="btn btn-primary btn-full mt-lg" data-nav="input">
          <span class="btn-icon">⏱️</span>
          <span data-lang-zh="开始穿越" data-lang-en="Start Journey">开始穿越</span>
        </button>
      </div>

      <!-- Data source credit -->
      <div class="info-panel mt-lg">
        <div class="info-panel-title">📚 数据来源</div>
        <div class="info-panel-text">
          基于哈佛大学学者 Kyle Harper 的研究数据库：<br>
          <em>"Database of Prices, Wages, and Rents for Roman Egypt, 1-700 CE"</em><br>
          DARMC Scholarly Data Series 2016-5
        </div>
      </div>
    </section>

    <!-- ============================================
         SCREEN 2: INPUT (Money/Currency)
         ============================================ -->
    <section id="screen-input" class="screen">
      <h3 class="mb-md" data-lang-zh="💰 带多少钱穿越？" data-lang-en="💰 How much money are you bringing?">
        💰 带多少钱穿越？
      </h3>

      <div class="card-pixel">
        <!-- Currency Input Mode -->
        <div id="currency-inputs">
          <div class="form-group">
            <label class="form-label" data-lang-zh="输入金额" data-lang-en="Enter amount">输入金额</label>
            <div class="input-with-select">
              <input 
                type="number" 
                id="amount-input" 
                class="form-input" 
                placeholder="1000"
                min="0"
                step="any"
              >
              <select id="currency-select" class="form-select">
                <option value="CNY">¥ CNY</option>
                <option value="USD">$ USD</option>
                <option value="EUR">€ EUR</option>
                <option value="METAL">⚖️ 金银</option>
              </select>
            </div>
          </div>

          <!-- Gold/Silver Ratio -->
          <div id="ratio-control" class="form-group">
            <label class="form-label" data-lang-zh="金银比例" data-lang-en="Gold/Silver Ratio">金银比例</label>
            <input 
              type="range" 
              id="gold-ratio" 
              class="form-slider" 
              min="0" 
              max="1" 
              step="0.1" 
              value="0.5"
            >
            <div id="ratio-display" class="text-center text-mono mt-sm">🥇 50% | 🪙 50%</div>
            <p class="text-small text-faded mt-sm" data-lang-zh="古代货币主要由贵金属铸造，调整你想携带的金银比例" data-lang-en="Ancient coins were made of precious metals. Adjust the gold/silver ratio you want to bring.">
              古代货币主要由贵金属铸造，调整你想携带的金银比例
            </p>
          </div>
        </div>

        <!-- Direct Metal Input (hidden by default) -->
        <div id="metal-inputs" class="hidden">
          <div class="form-group">
            <label class="form-label">🥇 黄金 (克)</label>
            <input type="number" id="gold-grams" class="form-input" placeholder="0" min="0" step="0.1">
          </div>
          <div class="form-group">
            <label class="form-label">🪙 白银 (克)</label>
            <input type="number" id="silver-grams" class="form-input" placeholder="0" min="0" step="0.1">
          </div>
        </div>
      </div>

      <!-- Quick presets -->
      <div class="card mt-md">
        <div class="form-label" data-lang-zh="快速选择" data-lang-en="Quick presets">快速选择</div>
        <div class="flex flex-wrap gap-sm mt-sm">
          <button class="btn" onclick="document.getElementById('amount-input').value='100'; App.state.input.amount=100;">¥100</button>
          <button class="btn" onclick="document.getElementById('amount-input').value='1000'; App.state.input.amount=1000;">¥1000</button>
          <button class="btn" onclick="document.getElementById('amount-input').value='10000'; App.state.input.amount=10000;">¥10000</button>
          <button class="btn" onclick="document.getElementById('amount-input').value='100000'; App.state.input.amount=100000;">¥100000</button>
        </div>
      </div>

      <!-- Reference info -->
      <div class="info-panel mt-md">
        <div class="info-panel-title">💡 参考</div>
        <div class="info-panel-text">
          当前金价约 ¥500/克，银价约 ¥6/克<br>
          1枚奥里斯金币重约 7.87克黄金<br>
          1枚第纳里银币重约 3.9克白银
        </div>
      </div>

      <button class="btn btn-primary btn-full mt-lg" data-nav="period">
        <span data-lang-zh="选择穿越时代" data-lang-en="Choose Era">选择穿越时代</span>
        <span class="btn-icon">→</span>
      </button>
    </section>

    <!-- ============================================
         SCREEN 3: PERIOD SELECTION
         ============================================ -->
    <section id="screen-period" class="screen">
      <h3 class="mb-md" data-lang-zh="🕐 穿越到哪个时代？" data-lang-en="🕐 Which era will you travel to?">
        🕐 穿越到哪个时代？
      </h3>

      <p class="text-faded text-small mb-md" data-lang-zh="点击选择一个历史时期（公元27年-641年）" data-lang-en="Click to select a historical period (27-641 CE)">
        点击选择一个历史时期（公元27年-641年）
      </p>

      <div id="period-list" class="period-grid">
        <!-- Periods will be rendered by JavaScript -->
      </div>

      <div class="info-panel mt-lg">
        <div class="info-panel-title">📜 关于这些时代</div>
        <div class="info-panel-text">
          从奥古斯都征服埃及（公元前30年）到阿拉伯征服（公元641年），埃及是罗马帝国最富庶的行省之一。莎草纸文献为我们保存了大量经济数据。
        </div>
      </div>
    </section>

    <!-- ============================================
         SCREEN 4: COIN CONVERSION
         ============================================ -->
    <section id="screen-coins" class="screen">
      <h3 class="mb-md" data-lang-zh="🪙 你的古代钱袋" data-lang-en="🪙 Your Ancient Purse">
        🪙 你的古代钱袋
      </h3>

      <!-- Period context -->
      <div id="period-info-display">
        <!-- Rendered by JavaScript -->
      </div>

      <!-- Coin display -->
      <div id="coin-display" class="card-pixel">
        <!-- Rendered by JavaScript -->
      </div>

      <button class="btn btn-primary btn-full mt-lg" data-nav="results">
        <span data-lang-zh="看看能买什么" data-lang-en="See What You Can Buy">看看能买什么</span>
        <span class="btn-icon">→</span>
      </button>
    </section>

    <!-- ============================================
         SCREEN 5: RESULTS (Purchasing Power)
         ============================================ -->
    <section id="screen-results" class="screen">
      <h3 class="mb-md" data-lang-zh="📊 你的穿越生活" data-lang-en="📊 Your Time Travel Life">
        📊 你的穿越生活
      </h3>

      <!-- Purchasing power results -->
      <div id="purchasing-display">
        <!-- Rendered by JavaScript -->
      </div>

      <!-- Historical comparison items -->
      <div class="card mt-lg">
        <div class="card-header">
          <div class="card-icon">🛒</div>
          <div class="card-title" data-lang-zh="其他物品参考" data-lang-en="Other Items Reference">其他物品参考</div>
        </div>
        <div class="text-small">
          <div class="flex flex-between mb-sm">
            <span>🍞 一块面包</span>
            <span class="text-mono">~0.5 奥波尔</span>
          </div>
          <div class="flex flex-between mb-sm">
            <span>🍷 一坛葡萄酒 (40升)</span>
            <span class="text-mono">~8 德拉克马</span>
          </div>
          <div class="flex flex-between mb-sm">
            <span>👔 一件束腰外衣</span>
            <span class="text-mono">~20 德拉克马</span>
          </div>
          <div class="flex flex-between mb-sm">
            <span>🫏 一头驴</span>
            <span class="text-mono">~200 德拉克马</span>
          </div>
        </div>
      </div>

      <div class="flex gap-md mt-lg">
        <button class="btn btn-secondary flex-1" data-nav="compare">
          <span data-lang-zh="职业对比" data-lang-en="Compare Jobs">职业对比</span>
        </button>
        <button id="share-btn" class="btn btn-primary flex-1">
          <span data-lang-zh="分享结果" data-lang-en="Share">分享结果</span>
        </button>
      </div>

      <button class="btn btn-full mt-md" data-nav="input">
        <span data-lang-zh="重新穿越" data-lang-en="Travel Again">重新穿越</span>
      </button>

      <!-- Source Citations Toggle -->
      <div class="card mt-lg">
        <button id="toggle-sources-btn" class="btn btn-full" onclick="App.toggleSources()">
          <span class="btn-icon">📜</span>
          <span data-lang-zh="查看莎草纸来源" data-lang-en="View Papyri Sources">查看莎草纸来源</span>
        </button>
        <div id="sources-panel" class="hidden mt-md">
          <div class="info-panel-title">📚 数据来源 | Data Sources</div>
          <div id="sources-list" class="text-small mt-sm">
            <!-- Populated by JavaScript -->
          </div>
          <div class="mt-md text-small text-faded">
            <p data-lang-zh="所有价格数据来自古埃及莎草纸文献。缩写说明：P. = Papyrus, SB = Sammelbuch, BGU = Berliner Griechische Urkunden, PSI = Papiri della Società Italiana" 
               data-lang-en="All price data from ancient Egyptian papyri. Abbreviations: P. = Papyrus, SB = Sammelbuch, BGU = Berliner Griechische Urkunden, PSI = Papiri della Società Italiana">
              所有价格数据来自古埃及莎草纸文献。缩写说明：P. = Papyrus, SB = Sammelbuch, BGU = Berliner Griechische Urkunden, PSI = Papiri della Società Italiana
            </p>
            <p class="mt-sm">
              <a href="https://papyri.info" target="_blank" style="color: var(--color-lapis);">
                🔗 papyri.info - 查看原始莎草纸
              </a>
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- ============================================
         SCREEN 6: OCCUPATION COMPARISON
         ============================================ -->
    <section id="screen-compare" class="screen">
      <h3 class="mb-md" data-lang-zh="👥 职业收入对比" data-lang-en="👥 Occupation Income Comparison">
        👥 职业收入对比
      </h3>

      <p class="text-faded text-small mb-md" data-lang-zh="看看你的财富相当于当时各种职业多少时间的收入" data-lang-en="See how your wealth compares to various occupations of the time">
        看看你的财富相当于当时各种职业多少时间的收入
      </p>

      <div id="occupation-list" class="occupation-list">
        <!-- Rendered by JavaScript -->
      </div>

      <div class="info-panel mt-lg">
        <div class="info-panel-title">📋 说明</div>
        <div class="info-panel-text">
          工资数据来自莎草纸文献记录的实际支付。不同地区、不同年份可能有较大差异。农业雇工的日工资在收获季节会更高。
        </div>
      </div>

      <button class="btn btn-full mt-lg" data-nav="results">
        <span data-lang-zh="返回结果" data-lang-en="Back to Results">返回结果</span>
      </button>
    </section>

    <!-- ============================================
         BOTTOM NAVIGATION BAR
         ============================================ -->
    <nav class="nav-bar">
      <button class="nav-btn" data-screen="input">
        <div class="nav-icon">💰</div>
        <span data-lang-zh="输入" data-lang-en="Input">输入</span>
      </button>
      <button class="nav-btn" data-screen="period">
        <div class="nav-icon">🕐</div>
        <span data-lang-zh="时代" data-lang-en="Era">时代</span>
      </button>
      <button class="nav-btn" data-screen="coins">
        <div class="nav-icon">🪙</div>
        <span data-lang-zh="货币" data-lang-en="Coins">货币</span>
      </button>
      <button class="nav-btn" data-screen="results">
        <div class="nav-icon">📊</div>
        <span data-lang-zh="结果" data-lang-en="Results">结果</span>
      </button>
    </nav>

  </div>

  <!-- ============================================
       SCRIPTS
       ============================================ -->
  <script src="js/harper-data.js"></script>
  <script src="js/calculator.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
