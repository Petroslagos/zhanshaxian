/**
 * Roman Egypt Time Travel Calculator - Styles
 * 
 * DESIGN CONCEPT: "Papyrus Pixel" - Ancient meets 8-bit
 * Combines warm papyrus textures with blocky pixel-art ready layouts
 * 
 * ASSET PLACEHOLDERS: Look for comments marked with [ASSET] for where
 * to insert custom images and icons
 */

/* ============================================
   CSS VARIABLES - Easy theming and asset swapping
   ============================================ */
:root {
  /* Primary Colors - Warm ancient palette */
  --color-papyrus: #F5E6C8;
  --color-papyrus-dark: #E8D4A8;
  --color-papyrus-light: #FDF8ED;
  --color-ink: #2C1810;
  --color-ink-faded: #5C4030;
  --color-gold: #C9A227;
  --color-gold-light: #E8C84A;
  --color-silver: #A8A8A8;
  --color-bronze: #CD7F32;
  --color-red-seal: #8B2500;
  --color-lapis: #26619C;
  --color-nile: #2E8B8B;
  
  /* Period-specific accent colors */
  --color-julio-claudian: #C9A227;
  --color-flavian-antonine: #8B4513;
  --color-severan: #722F37;
  --color-crisis: #8B0000;
  --color-tetrarchy: #4B0082;
  --color-late-roman: #DAA520;
  --color-byzantine: #800080;
  
  /* Spacing - 8px grid for pixel-art alignment */
  --space-xs: 4px;
  --space-sm: 8px;
  --space-md: 16px;
  --space-lg: 24px;
  --space-xl: 32px;
  --space-xxl: 48px;
  
  /* Typography */
  --font-display: 'Cinzel', 'Noto Serif SC', serif;
  --font-body: 'Crimson Text', 'Noto Serif SC', serif;
  --font-mono: 'VT323', 'Press Start 2P', monospace;
  
  --text-xs: 12px;
  --text-sm: 14px;
  --text-md: 16px;
  --text-lg: 20px;
  --text-xl: 24px;
  --text-xxl: 32px;
  --text-hero: 40px;
  
  /* Borders and shadows */
  --border-thin: 1px solid var(--color-ink-faded);
  --border-thick: 3px solid var(--color-ink);
  --border-gold: 2px solid var(--color-gold);
  --shadow-soft: 0 4px 12px rgba(44, 24, 16, 0.15);
  --shadow-hard: 4px 4px 0 var(--color-ink);
  --shadow-inset: inset 0 2px 4px rgba(44, 24, 16, 0.1);
  
  /* Transitions */
  --transition-fast: 0.15s ease;
  --transition-normal: 0.3s ease;
  
  /* Layout */
  --max-width: 480px;
  --header-height: 60px;
  --nav-height: 56px;
  
  /* [ASSET] Background textures - replace with actual images */
  --bg-papyrus: linear-gradient(
    135deg,
    var(--color-papyrus) 0%,
    var(--color-papyrus-dark) 50%,
    var(--color-papyrus) 100%
  );
  --bg-pattern: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(44, 24, 16, 0.03) 2px,
    rgba(44, 24, 16, 0.03) 4px
  );
}

/* ============================================
   RESET & BASE STYLES
   ============================================ */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 16px;
  scroll-behavior: smooth;
  -webkit-text-size-adjust: 100%;
}

body {
  font-family: var(--font-body);
  font-size: var(--text-md);
  line-height: 1.6;
  color: var(--color-ink);
  background: var(--bg-papyrus);
  background-attachment: fixed;
  min-height: 100vh;
  min-height: 100dvh;
  overflow-x: hidden;
}

/* Papyrus texture overlay */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--bg-pattern);
  pointer-events: none;
  z-index: 0;
}

/* ============================================
   TYPOGRAPHY
   ============================================ */
h1, h2, h3, h4 {
  font-family: var(--font-display);
  font-weight: 700;
  line-height: 1.2;
  letter-spacing: 0.02em;
}

h1 { font-size: var(--text-hero); }
h2 { font-size: var(--text-xxl); }
h3 { font-size: var(--text-xl); }
h4 { font-size: var(--text-lg); }

.text-mono {
  font-family: var(--font-mono);
  letter-spacing: 0.05em;
}

/* Chinese text styling */
:lang(zh) {
  line-height: 1.8;
}

/* ============================================
   LAYOUT COMPONENTS
   ============================================ */
.app-container {
  position: relative;
  z-index: 1;
  max-width: var(--max-width);
  margin: 0 auto;
  min-height: 100vh;
  min-height: 100dvh;
  display: flex;
  flex-direction: column;
}

.screen {
  display: none;
  flex-direction: column;
  flex: 1;
  padding: var(--space-md);
  padding-bottom: calc(var(--nav-height) + var(--space-lg));
  animation: fadeIn 0.3s ease;
}

.screen.active {
  display: flex;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ============================================
   HEADER
   ============================================ */
.app-header {
  position: sticky;
  top: 0;
  z-index: 100;
  background: var(--color-papyrus);
  border-bottom: var(--border-thick);
  padding: var(--space-md);
  text-align: center;
}

.app-title {
  font-size: var(--text-xl);
  color: var(--color-ink);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-sm);
}

/* [ASSET] Logo placeholder */
.app-logo {
  width: 40px;
  height: 40px;
  background: var(--color-gold);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  /* Replace with: background-image: url('../assets/icons/logo.png'); */
}

.app-subtitle {
  font-size: var(--text-sm);
  color: var(--color-ink-faded);
  margin-top: var(--space-xs);
}

/* ============================================
   NAVIGATION (Bottom Tab Bar)
   ============================================ */
.nav-bar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 100;
  background: var(--color-papyrus);
  border-top: var(--border-thick);
  display: flex;
  justify-content: space-around;
  padding: var(--space-sm) 0;
  padding-bottom: max(var(--space-sm), env(safe-area-inset-bottom));
}

.nav-btn {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  padding: var(--space-sm);
  background: none;
  border: none;
  color: var(--color-ink-faded);
  font-family: var(--font-body);
  font-size: var(--text-xs);
  cursor: pointer;
  transition: var(--transition-fast);
}

.nav-btn.active {
  color: var(--color-gold);
}

/* [ASSET] Nav icon placeholders */
.nav-icon {
  width: 28px;
  height: 28px;
  font-size: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  /* Replace with: background-image: url('../assets/icons/nav-*.png'); */
}

/* ============================================
   CARDS & PANELS
   ============================================ */
.card {
  background: var(--color-papyrus-light);
  border: var(--border-thin);
  border-radius: 4px;
  padding: var(--space-md);
  margin-bottom: var(--space-md);
  box-shadow: var(--shadow-soft);
}

.card-pixel {
  /* Pixel-art style card with hard shadow */
  background: var(--color-papyrus-light);
  border: var(--border-thick);
  padding: var(--space-md);
  margin-bottom: var(--space-md);
  box-shadow: var(--shadow-hard);
  position: relative;
}

.card-header {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  margin-bottom: var(--space-md);
  padding-bottom: var(--space-sm);
  border-bottom: var(--border-thin);
}

.card-icon {
  width: 32px;
  height: 32px;
  font-size: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  /* [ASSET] Replace emoji with pixel art icons */
}

.card-title {
  font-size: var(--text-lg);
  font-weight: 600;
}

/* ============================================
   FORM ELEMENTS
   ============================================ */
.form-group {
  margin-bottom: var(--space-md);
}

.form-label {
  display: block;
  font-weight: 600;
  margin-bottom: var(--space-xs);
  color: var(--color-ink);
}

.form-input {
  width: 100%;
  padding: var(--space-sm) var(--space-md);
  font-family: var(--font-mono);
  font-size: var(--text-lg);
  color: var(--color-ink);
  background: var(--color-papyrus-light);
  border: var(--border-thick);
  border-radius: 0;
  outline: none;
  transition: var(--transition-fast);
}

.form-input:focus {
  border-color: var(--color-gold);
  box-shadow: 0 0 0 3px rgba(201, 162, 39, 0.2);
}

.form-input::placeholder {
  color: var(--color-ink-faded);
  opacity: 0.6;
}

/* Input with currency selector */
.input-with-select {
  display: flex;
  gap: 0;
}

.input-with-select .form-input {
  flex: 1;
  border-right: none;
}

.input-with-select .form-select {
  width: 80px;
  border-left: var(--border-thin);
}

.form-select {
  padding: var(--space-sm) var(--space-md);
  font-family: var(--font-mono);
  font-size: var(--text-md);
  color: var(--color-ink);
  background: var(--color-papyrus-light);
  border: var(--border-thick);
  border-radius: 0;
  cursor: pointer;
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%232C1810' d='M6 8L2 4h8z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 8px center;
  padding-right: 28px;
}

/* Slider for ratio adjustment */
.form-slider {
  width: 100%;
  height: 8px;
  background: var(--color-papyrus-dark);
  border: var(--border-thin);
  border-radius: 0;
  outline: none;
  -webkit-appearance: none;
  appearance: none;
}

.form-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 24px;
  height: 24px;
  background: var(--color-gold);
  border: var(--border-thick);
  cursor: pointer;
}

.form-slider::-moz-range-thumb {
  width: 24px;
  height: 24px;
  background: var(--color-gold);
  border: var(--border-thick);
  cursor: pointer;
}

/* ============================================
   BUTTONS
   ============================================ */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-sm);
  padding: var(--space-md) var(--space-lg);
  font-family: var(--font-display);
  font-size: var(--text-md);
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--color-ink);
  background: var(--color-papyrus-light);
  border: var(--border-thick);
  cursor: pointer;
  transition: var(--transition-fast);
  box-shadow: var(--shadow-hard);
  position: relative;
  text-decoration: none;
}

.btn:hover {
  transform: translate(-2px, -2px);
  box-shadow: 6px 6px 0 var(--color-ink);
}

.btn:active {
  transform: translate(2px, 2px);
  box-shadow: 2px 2px 0 var(--color-ink);
}

.btn-primary {
  background: var(--color-gold);
  color: var(--color-ink);
}

.btn-secondary {
  background: var(--color-papyrus-dark);
}

.btn-full {
  width: 100%;
}

.btn-icon {
  font-size: 20px;
}

/* ============================================
   PERIOD SELECTOR
   ============================================ */
.period-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-sm);
}

.period-card {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  padding: var(--space-md);
  background: var(--color-papyrus-light);
  border: var(--border-thick);
  cursor: pointer;
  transition: var(--transition-fast);
}

.period-card:hover,
.period-card.selected {
  transform: translate(-2px, -2px);
  box-shadow: var(--shadow-hard);
}

.period-card.selected {
  border-color: var(--color-gold);
  background: linear-gradient(
    135deg,
    var(--color-papyrus-light) 0%,
    rgba(201, 162, 39, 0.1) 100%
  );
}

/* [ASSET] Period icon placeholder - replace with period-specific pixel art */
.period-icon {
  width: 48px;
  height: 48px;
  min-width: 48px;
  font-size: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-papyrus-dark);
  border: var(--border-thin);
  /* Replace with: background-image: url('../assets/icons/period-*.png'); */
}

.period-info {
  flex: 1;
  min-width: 0;
}

.period-name {
  font-family: var(--font-display);
  font-size: var(--text-md);
  font-weight: 700;
  margin-bottom: 2px;
}

.period-years {
  font-family: var(--font-mono);
  font-size: var(--text-sm);
  color: var(--color-ink-faded);
}

.period-desc {
  font-size: var(--text-xs);
  color: var(--color-ink-faded);
  margin-top: var(--space-xs);
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* ============================================
   COIN DISPLAY
   ============================================ */
.coin-stack {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-md);
  justify-content: center;
  padding: var(--space-md);
}

.coin-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-xs);
  min-width: 80px;
}

/* [ASSET] Coin icon - replace with pixel art coins */
.coin-icon {
  width: 64px;
  height: 64px;
  font-size: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  /* Placeholder styling */
  background: radial-gradient(
    circle at 30% 30%,
    var(--color-gold-light) 0%,
    var(--color-gold) 50%,
    var(--color-bronze) 100%
  );
  border-radius: 50%;
  border: 3px solid var(--color-ink);
  box-shadow: 
    2px 2px 0 var(--color-ink),
    inset 2px 2px 4px rgba(255, 255, 255, 0.3);
  /* Replace with: background-image: url('../assets/icons/coin-*.png'); */
}

.coin-icon.silver {
  background: radial-gradient(
    circle at 30% 30%,
    #E8E8E8 0%,
    var(--color-silver) 50%,
    #707070 100%
  );
}

.coin-icon.bronze {
  background: radial-gradient(
    circle at 30% 30%,
    #E8A060 0%,
    var(--color-bronze) 50%,
    #8B4513 100%
  );
}

.coin-count {
  font-family: var(--font-mono);
  font-size: var(--text-xl);
  font-weight: 700;
  color: var(--color-ink);
}

.coin-name {
  font-size: var(--text-xs);
  color: var(--color-ink-faded);
  text-align: center;
}

/* ============================================
   RESULTS DISPLAY
   ============================================ */
.result-section {
  margin-bottom: var(--space-lg);
}

.result-header {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  margin-bottom: var(--space-md);
}

/* [ASSET] Result section icons */
.result-icon {
  width: 40px;
  height: 40px;
  font-size: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.result-title {
  font-size: var(--text-lg);
  font-weight: 700;
}

.result-value {
  font-family: var(--font-mono);
  font-size: var(--text-xxl);
  font-weight: 700;
  color: var(--color-gold);
  text-shadow: 1px 1px 0 var(--color-ink);
}

.result-unit {
  font-size: var(--text-md);
  color: var(--color-ink-faded);
  margin-left: var(--space-xs);
}

.result-desc {
  font-size: var(--text-sm);
  color: var(--color-ink-faded);
  margin-top: var(--space-xs);
}

/* Lifestyle assessment badge */
.lifestyle-badge {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  padding: var(--space-lg);
  background: var(--color-papyrus);
  border: var(--border-gold);
  margin-top: var(--space-lg);
}

/* [ASSET] Lifestyle icon placeholder */
.lifestyle-icon {
  width: 64px;
  height: 64px;
  font-size: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.lifestyle-info {
  flex: 1;
}

.lifestyle-class {
  font-family: var(--font-display);
  font-size: var(--text-xl);
  font-weight: 700;
  color: var(--color-gold);
}

.lifestyle-desc {
  font-size: var(--text-sm);
  margin-top: var(--space-xs);
  line-height: 1.5;
}

/* ============================================
   OCCUPATION COMPARISON
   ============================================ */
.occupation-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
}

.occupation-item {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  padding: var(--space-md);
  background: var(--color-papyrus-light);
  border: var(--border-thin);
  cursor: pointer;
  transition: var(--transition-fast);
}

.occupation-item:hover,
.occupation-item.selected {
  border-color: var(--color-gold);
  background: linear-gradient(
    135deg,
    var(--color-papyrus-light) 0%,
    rgba(201, 162, 39, 0.1) 100%
  );
}

/* [ASSET] Occupation icon placeholder */
.occupation-icon {
  width: 40px;
  height: 40px;
  font-size: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-papyrus-dark);
  border: var(--border-thin);
}

.occupation-name {
  font-weight: 600;
}

.occupation-desc {
  font-size: var(--text-xs);
  color: var(--color-ink-faded);
}

/* ============================================
   VISUAL COMPARISONS (Bar charts etc.)
   ============================================ */
.comparison-bar {
  height: 24px;
  background: var(--color-papyrus-dark);
  border: var(--border-thin);
  overflow: hidden;
  margin: var(--space-sm) 0;
}

.comparison-fill {
  height: 100%;
  background: var(--color-gold);
  display: flex;
  align-items: center;
  padding-left: var(--space-sm);
  font-family: var(--font-mono);
  font-size: var(--text-xs);
  color: var(--color-ink);
  transition: width 0.5s ease;
}

/* Pixel-art style progress indicator */
.pixel-bar {
  display: flex;
  gap: 2px;
}

.pixel-bar-segment {
  width: 12px;
  height: 16px;
  background: var(--color-papyrus-dark);
  border: 1px solid var(--color-ink-faded);
}

.pixel-bar-segment.filled {
  background: var(--color-gold);
}

/* ============================================
   INFO PANELS & TOOLTIPS
   ============================================ */
.info-panel {
  padding: var(--space-md);
  background: rgba(44, 24, 16, 0.05);
  border-left: 4px solid var(--color-lapis);
  margin: var(--space-md) 0;
}

.info-panel-title {
  font-weight: 700;
  margin-bottom: var(--space-xs);
  display: flex;
  align-items: center;
  gap: var(--space-xs);
}

.info-panel-text {
  font-size: var(--text-sm);
  line-height: 1.6;
}

/* Historical context callout */
.history-callout {
  position: relative;
  padding: var(--space-md);
  padding-left: var(--space-xl);
  background: var(--color-papyrus-light);
  border: var(--border-thin);
  margin: var(--space-md) 0;
}

.history-callout::before {
  content: 'ðŸ“œ';
  position: absolute;
  left: var(--space-sm);
  top: var(--space-md);
  font-size: 20px;
}

/* ============================================
   ANIMATIONS & TRANSITIONS
   ============================================ */
@keyframes coinSpin {
  0% { transform: rotateY(0deg); }
  100% { transform: rotateY(360deg); }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

.animate-slide-up {
  animation: slideUp 0.4s ease forwards;
}

.animate-coin-spin {
  animation: coinSpin 1s ease;
}

.animate-pulse {
  animation: pulse 2s ease infinite;
}

/* Staggered animation delays */
.delay-1 { animation-delay: 0.1s; }
.delay-2 { animation-delay: 0.2s; }
.delay-3 { animation-delay: 0.3s; }
.delay-4 { animation-delay: 0.4s; }

/* ============================================
   LOADING STATE
   ============================================ */
.loading-spinner {
  display: inline-block;
  width: 32px;
  height: 32px;
  border: 3px solid var(--color-papyrus-dark);
  border-top-color: var(--color-gold);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* ============================================
   UTILITY CLASSES
   ============================================ */
.text-center { text-align: center; }
.text-left { text-align: left; }
.text-right { text-align: right; }
.text-gold { color: var(--color-gold); }
.text-faded { color: var(--color-ink-faded); }
.text-small { font-size: var(--text-sm); }

.mt-sm { margin-top: var(--space-sm); }
.mt-md { margin-top: var(--space-md); }
.mt-lg { margin-top: var(--space-lg); }
.mb-sm { margin-bottom: var(--space-sm); }
.mb-md { margin-bottom: var(--space-md); }
.mb-lg { margin-bottom: var(--space-lg); }

.hidden { display: none !important; }
.visible { display: block; }

.flex { display: flex; }
.flex-col { flex-direction: column; }
.flex-center { align-items: center; justify-content: center; }
.flex-between { justify-content: space-between; }
.gap-sm { gap: var(--space-sm); }
.gap-md { gap: var(--space-md); }

/* ============================================
   RESPONSIVE ADJUSTMENTS
   ============================================ */
@media (min-width: 375px) {
  .period-grid {
    grid-template-columns: 1fr;
  }
}

@media (min-width: 480px) {
  :root {
    --text-hero: 48px;
  }
}

/* Larger screens - still mobile-first design */
@media (min-width: 768px) {
  .app-container {
    padding: 0 var(--space-lg);
  }
  
  .period-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* ============================================
   PRINT STYLES (for sharing results)
   ============================================ */
@media print {
  .nav-bar,
  .btn {
    display: none;
  }
  
  body {
    background: white;
  }
  
  body::before {
    display: none;
  }
  
  .card, .card-pixel {
    break-inside: avoid;
    box-shadow: none;
    border: 1px solid #ccc;
  }
}

/* ============================================
   DARK MODE (optional enhancement)
   ============================================ */
@media (prefers-color-scheme: dark) {
  /* Can be enabled later if needed */
  /* :root {
    --color-papyrus: #2C2416;
    --color-papyrus-dark: #1E1810;
    --color-papyrus-light: #3A3020;
    --color-ink: #E8DCC8;
    --color-ink-faded: #A89878;
  } */
}
